# Novel Reader - 读书网站

## 📌 项目概述

一个定时抓取多个小说平台最新内容的读书网站，支持标签过滤、内容展示和用户收藏管理功能。

**核心优先级**：爬虫功能是核心，必须首先实现！

---

## 📚 设计文档

详细的设计文档请查看：[docs/novel-reader-design/](docs/novel-reader-design/)

### 文档列表

1. **[需求分析](docs/novel-reader-design/01-需求分析.md)**
   - 功能需求
   - 技术选型
   - 性能要求
   - 安全要求

2. **[数据库设计（MySQL版）](docs/novel-reader-design/02-数据库设计(MySQL版).md)** ⭐
   - 10张表结构
   - MySQL全文搜索支持
   - 索引策略

3. **[后端API设计](docs/novel-reader-design/03-后端API设计.md)**
   - 30+ RESTful接口
   - JWT认证
   - 统一响应格式

4. **[前端页面设计](docs/novel-reader-design/04-前端页面设计.md)**
   - 8个页面设计
   - Vue 3 + Uni-app
   - 多端适配

5. **[系统架构设计](docs/novel-reader-design/05-系统架构设计.md)**
   - 整体架构
   - 模块划分
   - 安全设计
   - 部署架构

6. **[爬虫功能设计](docs/novel-reader-design/06-爬虫功能设计.md)** ⭐ 核心优先
   - 支持4个平台：刺猬猫、SF轻小说、次元姬、起点
   - 爬虫架构设计
   - 反爬虫策略

7. **[爬虫后台管理界面设计](docs/novel-reader-design/07-爬虫后台管理界面设计.md)** ⭐ 核心优先
   - 7个管理页面
   - Vue 3 + Element Plus
   - 完整代码示例

---

## 🎯 技术栈

### 后端
- **框架**：Spring Boot 3.2.x
- **数据库**：MySQL 8.0
- **缓存**：Redis 7
- **爬虫**：Jsoup + OkHttp
- **API文档**：SpringDoc OpenAPI 3
- **构建工具**：Maven

### 前端
- **框架**：Vue 3 + TypeScript
- **跨平台**：Uni-app（H5 + 小程序 + APP）
- **状态管理**：Pinia
- **UI组件库**：Element Plus / uView
- **HTTP客户端**：Axios
- **构建工具**：Vite

---

## 🚀 开发规范

详见：[skills/novel-reader/SKILL.md](skills/novel-reader/SKILL.md)

### 核心要求

1. ✅ **架构设计先行**：已完成所有设计文档
2. ✅ **严格使用Git版本控制**：每个功能点都要提交
3. ✅ **文档和测试**：每个功能都要输出设计文档和测试
4. ✅ **代码质量**：遵循编程规范、详细注释

---

## 📋 开发优先级

### P0（最高优先级）- 爬虫核心功能
1. ⭐ **爬虫功能**（首先实现）
   - 刺猬猫爬虫
   - SF轻小说爬虫
   - 次元姬爬虫
   - 起点爬虫
   - AI概括服务

2. ⭐ **爬虫后台管理界面**
   - 任务管理
   - 平台配置
   - 数据浏览

### P1（次要优先级）
3. 数据库搭建（MySQL）
4. 后端基础框架
5. 用户系统（注册/登录）
6. 前端基础页面
7. 小说展示功能
8. 收藏管理功能

---

## 🌐 支持平台

| 平台 | 官网 | 状态 |
|------|------|------|
| 刺猬猫 | https://mip.ciweimao.com/ | 待开发 |
| SF轻小说 | https://book.sfacg.com/ | 待开发 |
| 次元姬 | https://www.ciyuanji.com/ | 待开发 |
| 起点 | https://www.qidian.com/ | 待开发 |

---

## 📊 服务器资源

**阿里云服务器**：47.122.121.58

- CPU：2核 Intel Xeon Platinum
- 内存：3.5GB（可用3.0GB）
- 磁盘：49GB（可用41GB）

**部署资源需求**：
- Spring Boot后端：~500MB
- MySQL数据库：~300MB
- Redis缓存：~100MB
- Nginx：~50MB
- **总计：~950MB**（完全满足）

---

## 📝 开发进度

- [x] 需求分析
- [x] 数据库设计（MySQL版）
- [x] 后端API设计
- [x] 前端页面设计
- [x] 系统架构设计
- [x] 爬虫功能设计
- [x] 爬虫后台管理界面设计
- [x] 环境搭建（Docker、MySQL、Redis）
- [x] 后端基础框架
- [x] 用户系统（注册/登录）
- [x] 前端基础页面
- [x] 小说展示功能
- [x] 收藏管理功能
- [x] 收藏功能增强
- [x] 用户评论模块
- [x] 评论点赞功能
- [x] 敏感词过滤功能
- [x] 敏感词管理界面
- [x] 书籍点踩功能
- [x] 书籍管理界面
- [x] 用户添加标签功能
- [ ] 爬虫功能开发（P0）
- [ ] 爬虫后台管理界面开发（P0）
- [ ] 其他功能开发（P1）

---

## 📅 更新日志

### v0.7.0 (2026-02-18) - 用户添加标签功能

#### 新功能
- ✅ **用户添加标签功能**
  - 用户可以为书籍添加自定义标签
  - 标签需要审核才能正式入库
  - 同一用户对同一本书不能重复添加相同标签
- ✅ **标签审核功能**
  - 管理员可以审核用户提交的标签
  - 支持审核通过和拒绝
  - 支持批量审核
  - 拒绝时可以填写拒绝原因
- ✅ **标签删除功能**
  - 用户可以删除自己添加的标签

#### 优化
- ✅ 用户标签和系统标签区分（`tags` vs `userTags`）
- ✅ 优化批量审核性能，避免重复更新书籍标签
- ✅ 删除冗余的权限检查代码
- ✅ 删除未使用的对话框代码

#### 修复
- ✅ 修复`TagService.getMyTags()`方法，status参数未生效
- ✅ 修复`Novel.userTags`字段长度不足问题
- ✅ 修复批量审核时的性能问题
- ✅ 删除未使用的导入

#### 文档
- ✅ 添加用户添加标签功能设计文档
- ✅ 添加用户添加标签功能开发总结
- ✅ 添加用户添加标签功能代码审查报告

#### 技术债务
- ⚠️ 前端审核页面未显示审核人用户名（低优先级）

---

### v0.6.0 (2026-02-18) - 书籍点踩功能和书籍管理界面

#### 新功能
- ✅ **书籍点踩功能**
  - 用户可以对书籍进行点踩
  - 支持取消点踩
  - 书籍详情页面显示点踩数
  - 基于Redis的点踩数计数器
- ✅ **书籍管理界面（管理员）**
  - 书籍搜索和分页浏览
  - 批量删除书籍
  - 删除后恢复功能

#### 技术亮点
- ✅ 基于Redis的点踩数计数器
- ✅ 批量删除和恢复功能
- ✅ 支持复杂查询和分页

#### 文档
- ✅ 添加书籍点踩功能和书籍管理界面开发总结

---

### v0.5.0 (2026-02-18) - 敏感词管理界面

#### 新功能
- ✅ **敏感词管理界面（管理员）**
  - 敏感词列表查询和分页
  - 添加、编辑、删除敏感词
  - 批量删除敏感词
  - 批量导入敏感词（从文件）
  - 导入模板下载

#### 技术亮点
- ✅ 批量导入敏感词功能
- ✅ 批量删除和恢复功能
- ✅ 支持导出导入模板

#### 文档
- ✅ 添加敏感词管理界面开发总结
- ✅ 添加敏感词导入教程
- ✅ 添加敏感词导入详细教程
- ✅ 添加敏感词数据源方案

---

### v0.4.0 (2026-02-18) - 敏感词过滤功能

#### 新功能
- ✅ **敏感词过滤功能**
  - 用户评论敏感词过滤
  - 支持敏感词分类和严重程度
  - 支持启用/禁用敏感词
  - 自动替换为`***`

#### 技术亮点
- ✅ 基于Trie树的敏感词匹配算法
- ✅ 支持敏感词分类和严重程度
- ✅ 支持启用/禁用敏感词
- ✅ 统一的敏感词过滤接口

#### 文档
- ✅ 添加敏感词过滤功能开发总结

---

### v0.3.0 (2026-02-18) - 评论点赞功能

#### 新功能
- ✅ **评论点赞功能**
  - 用户可以对评论进行点赞
  - 支持取消点赞
  - 评论详情页面显示点赞数
  - 基于Redis的点赞数计数器
- ✅ **点赞状态检查**
  - 支持批量检查评论的点赞状态
  - 评论列表显示点赞状态

#### 技术亮点
- ✅ 基于Redis的点赞数计数器
- ✅ 基于Redis的点赞状态缓存
- ✅ 批量检查点赞状态

#### 文档
- ✅ 添加评论点赞功能开发总结
- ✅ 添加评论点赞功能检查报告

---

### v0.2.0 (2026-02-18) - 用户评论模块

#### 新功能
- ✅ **用户评论功能**
  - 用户可以对书籍发表评论
  - 评论列表查询和分页
  - 评论数统计
  - 评论点赞数统计
- ✅ **评论删除功能（管理员）**
  - 管理员可以删除违规评论

#### 技术亮点
- ✅ 评论点赞数统计
- ✅ 评论数统计
- ✅ 管理员删除评论功能

#### 文档
- ✅ 添加用户评论模块设计文档
- ✅ 添加用户评论模块开发总结

---

### v0.1.0 (2026-02-18) - 收藏功能增强

#### 新功能
- ✅ **收藏功能增强**
  - 支持收藏备注
  - 收藏列表查询和分页
  - 收藏数统计
  - 支持批量检查收藏状态
  - 支持取消收藏
- ✅ **收藏数并发更新优化**
  - 基于Redis的收藏数计数器
  - 解决收藏数并发更新问题

#### 技术亮点
- ✅ 基于Redis的收藏数计数器
- ✅ 解决收藏数并发更新问题
- ✅ 支持批量检查收藏状态

#### 文档
- ✅ 添加收藏功能增强设计文档
- ✅ 添加收藏功能增强开发总结
- ✅ 添加收藏数并发更新问题修复文档

---

### v0.0.1 (2026-02-18) - 初始版本

#### 功能
- ✅ 用户注册和登录
- ✅ 小说查询和展示
- ✅ 小说详情页面
- ✅ 收藏功能（基础版）
- ✅ 权限验证统一和错误处理优化

#### 技术亮点
- ✅ JWT认证
- ✅ 统一响应格式
- ✅ 统一异常处理
- ✅ 权限验证统一

#### 文档
- ✅ 添加后端接口权限配置文档
- ✅ 添加权限验证统一和错误处理优化总结
- ✅ 添加后端开发总结
- ✅ 添加前端开发总结
- ✅ 添加完整开发总结

---

## 🔗 相关链接

- **GitHub仓库**：https://github.com/lridea/novel-reader
- **设计文档**：[docs/novel-reader-design/](docs/novel-reader-design/)
- **开发规范**：[skills/novel-reader/SKILL.md](skills/novel-reader/SKILL.md)

---

## 📄 许可证

MIT License

---

**请在评审设计文档后，告知是否可以开始开发爬虫功能！** 🦞
