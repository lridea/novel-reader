# 敏感词导入脚本

## 1. 下载开源敏感词库

```bash
# 下载SensitiveWord
git clone https://github.com/houbb/sensitive-word.git

# 下载中文敏感词库
git clone https://github.com/observerss/textfilter.git
```

## 2. 整理敏感词库

从下载的敏感词库中提取敏感词，整理成以下格式：

```
## 政治类
敏感词1
敏感词2
...

## 违法类
敏感词1
敏感词2
...
```

## 3. 调用API导入

```bash
curl -X POST http://localhost:8080/api/sensitive-words/import \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "words": ["暴力", "色情", "毒品", "赌博", "诈骗"]
  }'
```

## 4. 批量导入脚本

如果你有大量敏感词，可以使用以下脚本：

```bash
# 读取敏感词文件
while IFS= read -r line; do
  # 跳过空行和注释
  if [[ -z "$line" || "$line" =~ ^# ]]; then
    continue
  fi

  # 调用API导入
  curl -X POST http://localhost:8080/api/sensitive-words/import \
    -H "Content-Type: application/json" \
    -H "Authorization: Bearer YOUR_TOKEN" \
    -d "{\"words\": [\"$line\"]}"

  # 避免请求过快
  sleep 0.1
done < sensitive_words.txt
```

## 5. 验证导入

```bash
curl -X GET http://localhost:8080/api/sensitive-words?page=0&size=10 \
  -H "Authorization: Bearer YOUR_TOKEN"
```
