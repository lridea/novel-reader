# 读书网站 - 前端页面设计文档

## 📌 设计原则

1. **用户体验优先**：简洁、直观、易用
2. **响应式设计**：支持PC、平板、手机多端
3. **跨平台兼容**：使用Uni-app，支持H5 + 小程序 + APP
4. **组件化开发**：可复用、可维护
5. **性能优化**：懒加载、图片压缩、缓存策略

---

## 🎨 设计规范

### 1. 配色方案

```css
/* 主色调 - 蓝色系 */
--primary-color: #3B82F6;
--primary-hover: #2563EB;
--primary-light: #DBEAFE;

/* 辅助色 */
--secondary-color: #10B981; /* 绿色 - 成功 */
--warning-color: #F59E0B;   /* 橙色 - 警告 */
--danger-color: #EF4444;    /* 红色 - 危险 */
--info-color: #6B7280;      /* 灰色 - 信息 */

/* 中性色 */
--text-primary: #111827;
--text-secondary: #4B5563;
--text-tertiary: #9CA3AF;
--bg-primary: #FFFFFF;
--bg-secondary: #F9FAFB;
--border-color: #E5E7EB;
```

### 2. 字体规范

```css
/* 字体大小 */
--font-size-xs: 12px;
--font-size-sm: 14px;
--font-size-base: 16px;
--font-size-lg: 18px;
--font-size-xl: 20px;
--font-size-2xl: 24px;
--font-size-3xl: 30px;

/* 字体权重 */
--font-weight-normal: 400;
--font-weight-medium: 500;
--font-weight-bold: 600;

/* 字体家族 */
--font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
```

### 3. 间距规范

```css
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;
--spacing-xl: 32px;
--spacing-2xl: 48px;
```

### 4. 圆角规范

```css
--radius-sm: 4px;
--radius-md: 8px;
--radius-lg: 12px;
--radius-full: 9999px;
```

---

## 📱 页面结构

### 1. 首页 (Home)

```
┌─────────────────────────────────────┐
│  Logo    搜索框    登录/用户头像     │  顶部导航栏
├─────────────────────────────────────┤
│  平台筛选  标签筛选  排序           │  筛选工具栏
├─────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐          │
│  │ 封面图  │  │ 封面图  │          │
│  │ 书名    │  │ 书名    │          │  小说卡片
│  │ 作者    │  │ 作者    │          │  (Grid布局)
│  │ 标签    │  │ 标签    │          │
│  └─────────┘  └─────────┘          │
│  ┌─────────┐  ┌─────────┐          │
│  │ 封面图  │  │ 封面图  │          │
│  └─────────┘  └─────────┘          │
├─────────────────────────────────────┤
│  ←  1  2  3  ...  50  →           │  分页器
├─────────────────────────────────────┤
│  底部导航（移动端）                 │  Tabbar
│  首页  收藏  我的                    │
└─────────────────────────────────────┘
```

#### 功能模块

**顶部导航栏**
- Logo：点击返回首页
- 搜索框：支持书名/作者搜索
- 登录按钮（未登录）/ 用户头像（已登录）

**筛选工具栏**
- 平台筛选：下拉多选（刺猬猫、SF、次元姬、起点）
- 标签筛选：下拉多选（玄幻、都市、仙侠...）
- 排序：最新更新/创建时间

**小说卡片**
```html
<div class="novel-card">
  <img class="cover" src="封面URL" alt="书名">
  <div class="info">
    <h3 class="title">书名</h3>
    <p class="author">作者</p>
    <div class="tags">
      <span class="tag">玄幻</span>
      <span class="tag">系统</span>
    </div>
    <p class="desc">内容简介...</p>
    <p class="update-time">更新于：2026-02-17</p>
  </div>
</div>
```

**分页器**
- 首页/尾页
- 上一页/下一页
- 页码跳转

---

### 2. 小说详情页 (Novel Detail)

```
┌─────────────────────────────────────┐
│  ←  书名  ...收藏  分享             │  顶部栏
├─────────────────────────────────────┤
│  ┌─────────┐  信息区               │
│  │         │  书名                 │
│  │  封面图  │  作者                │
│  │         │  标签 [玄幻] [系统]   │
│  └─────────┘  简介                 │
│              最新章节：第100章      │
│              更新时间：2026-02-17   │
├─────────────────────────────────────┤
│  AI概括：主角在突破过程中遇到了...  │  AI概括卡片
├─────────────────────────────────────┤
│  最新章节                           │  章节内容
│  第100章 突破                       │
│  ┌─────────────────────────────┐    │
│  │ 章节内容...                │    │
│  │                            │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│  历史章节                           │  章节列表
│  第99章 准备           [收起/展开]  │
│  第98章 决定                       │
│  ...                                │
└─────────────────────────────────────┘
```

#### 功能模块

**信息区**
- 封面图：大图展示
- 书名、作者、标签
- 简介：完整描述
- 最新章节信息

**AI概括卡片**
- 特殊样式（边框、背景色）
- 显示AI生成的章节概括

**章节内容**
- 最新章节完整内容
- 支持字体大小调整

**历史章节**
- 折叠/展开
- 点击查看历史章节（需跳转平台或后续增加阅读功能）

---

### 3. 登录页 (Login)

```
┌─────────────────────────────────────┐
│                                     │
│        Logo                         │
│      读书网站                        │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 邮箱                         │  │
│  └─────────────────────────────┘  │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 密码                   👁   │  │
│  └─────────────────────────────┘  │
│                                     │
│  [ 登录 ]                           │
│                                     │
│  还没有账号？[立即注册]             │
│                                     │
└─────────────────────────────────────┘
```

#### 功能模块

**登录表单**
- 邮箱输入框
- 密码输入框（显示/隐藏）
- 记住我（Checkbox）
- 登录按钮

**其他**
- 忘记密码
- 还没有账号？立即注册
- 社交登录（可选，P1）

---

### 4. 注册页 (Register)

```
┌─────────────────────────────────────┐
│                                     │
│        Logo                         │
│      创建账号                        │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 用户名                       │  │
│  └─────────────────────────────┘  │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 邮箱                         │  │
│  └─────────────────────────────┘  │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 密码              强度: 强  │  │
│  └─────────────────────────────┘  │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 确认密码                     │  │
│  └─────────────────────────────┘  │
│                                     │
│  [ 注册 ]                           │
│                                     │
│  已有账号？[立即登录]               │
│                                     │
└─────────────────────────────────────┘
```

#### 功能模块

**注册表单**
- 用户名输入框
- 邮箱输入框
- 密码输入框 + 密码强度指示器
- 确认密码输入框
- 注册按钮

**表单验证**
- 用户名：3-20字符，字母数字下划线
- 邮箱：有效邮箱格式
- 密码：8-20字符，包含字母和数字
- 确认密码：与密码一致

---

### 5. 收藏页 (Favorites)

```
┌─────────────────────────────────────┐
│  我的收藏                            │  顶部栏
├─────────────────────────────────────┤
│  [全部] [玄幻] [都市] [+新建分类]   │  分类标签
├─────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐          │
│  │ 封面图  │  │ 封面图  │          │  收藏卡片
│  │ 书名    │  │ 书名    │          │  (显示更新标记)
│  │ 有更新★│  │         │          │
│  └─────────┘  └─────────┘          │
│  ┌─────────┐  ┌─────────┐          │
│  │ 封面图  │  │ 封面图  │          │
│  └─────────┘  └─────────┘          │
├─────────────────────────────────────┤
│  ←  1  2  3  ...  5  →            │  分页器
└─────────────────────────────────────┘
```

#### 功能模块

**分类标签**
- 全部：显示所有收藏
- 自定义分类：按分类筛选
- +新建分类：点击弹出新建分类模态框
- 长按分类：编辑/删除分类

**收藏卡片**
- 封面图、书名、作者
- 更新标记（★）：有新更新时显示
- 点击跳转详情页
- 长按：编辑收藏/取消收藏

---

### 6. 收藏管理页 (Favorite Management)

```
┌─────────────────────────────────────┐
│  ←  编辑收藏                         │  顶部栏
├─────────────────────────────────────┤
│  ┌─────────┐                        │
│  │  封面图  │  书名：修仙从系统开始   │
│  └─────────┘  作者：作者名          │
│              备注：很好看的小说     │
│              分类：[玄幻] [系统]   │
│              [+添加分类]             │
│              [保存] [取消收藏]       │
└─────────────────────────────────────┘
```

#### 功能模块

**编辑表单**
- 备注输入框（Textarea）
- 分类选择（多选Checkbox）
- 添加新分类（按钮）
- 保存按钮
- 取消收藏按钮

---

### 7. 我的页面 (Profile)

```
┌─────────────────────────────────────┐
│  我的                                │  顶部栏
├─────────────────────────────────────┤
│  ┌─────────┐  用户名               │
│  │ 头像    │  邮箱                 │
│  └─────────┘  [编辑资料]           │
│                                     │
│  ┌─────────────────────────────┐  │
│  │ 📚 我的收藏      50本      │  │  统计卡片
│  │ 📁 我的分类      5个       │  │
│  └─────────────────────────────┘  │
├─────────────────────────────────────┤
│  ⚙️  设置                            │
│  🔔  消息通知                        │
│  📖  阅读记录                        │
│  ❓  关于我们                        │
│  🚪  退出登录                        │
└─────────────────────────────────────┘
```

#### 功能模块

**用户信息**
- 头像、用户名、邮箱
- 编辑资料按钮

**统计卡片**
- 我的收藏数量
- 我的分类数量

**功能列表**
- 设置
- 消息通知（P1）
- 阅读记录（P1）
- 关于我们
- 退出登录

---

### 8. 搜索结果页 (Search Results)

```
┌─────────────────────────────────────┐
│  ←  搜索结果：修仙                   │  顶部栏
├─────────────────────────────────────┤
│  找到 1000 本相关小说               │  提示信息
├─────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐          │
│  │ 封面图  │  │ 封面图  │          │  搜索结果
│  │ 书名    │  │ 书名    │          │  (高亮关键词)
│  └─────────┘  └─────────┘          │
│  ...                                │
└─────────────────────────────────────┘
```

#### 功能模块

**顶部栏**
- 返回按钮
- 搜索关键词

**提示信息**
- 找到XXX本相关小说
- 相关搜索建议

**搜索结果**
- 高亮显示匹配关键词
- 卡片样式同首页

---

## 🔧 技术实现

### Vue 3 + TypeScript 示例

```vue
<template>
  <div class="home">
    <!-- 顶部导航栏 -->
    <div class="navbar">
      <div class="logo" @click="goHome">读书网站</div>
      <div class="search-bar">
        <el-input
          v-model="searchKeyword"
          placeholder="搜索书名/作者"
          @keyup.enter="handleSearch"
        />
      </div>
      <div class="user-actions">
        <el-button v-if="!user" type="primary" @click="goLogin">
          登录
        </el-button>
        <el-dropdown v-else @command="handleUserCommand">
          <el-avatar :src="user.avatarUrl" />
          <template #dropdown>
            <el-dropdown-menu>
              <el-dropdown-item command="profile">个人中心</el-dropdown-item>
              <el-dropdown-item command="logout">退出登录</el-dropdown-item>
            </el-dropdown-menu>
          </template>
        </el-dropdown>
      </div>
    </div>

    <!-- 筛选工具栏 -->
    <div class="filter-bar">
      <el-select
        v-model="selectedPlatforms"
        multiple
        placeholder="选择平台"
        @change="fetchNovels"
      >
        <el-option
          v-for="platform in platforms"
          :key="platform.value"
          :label="platform.label"
          :value="platform.value"
        />
      </el-select>
      <el-select
        v-model="selectedTags"
        multiple
        placeholder="选择标签"
        @change="fetchNovels"
      >
        <el-option
          v-for="tag in tags"
          :key="tag"
          :label="tag"
          :value="tag"
        />
      </el-select>
      <el-select v-model="sortBy" @change="fetchNovels">
        <el-option label="最新更新" value="updateTime" />
        <el-option label="创建时间" value="createdAt" />
      </el-select>
    </div>

    <!-- 小说列表 -->
    <div class="novel-list">
      <div
        v-for="novel in novelList"
        :key="novel.id"
        class="novel-card"
        @click="goDetail(novel.id)"
      >
        <img :src="novel.coverUrl" :alt="novel.title" class="cover" />
        <div class="info">
          <h3 class="title">{{ novel.title }}</h3>
          <p class="author">{{ novel.author }}</p>
          <div class="tags">
            <span v-for="tag in novel.tags" :key="tag" class="tag">
              {{ tag }}
            </span>
          </div>
          <p class="desc">{{ novel.description }}</p>
          <p class="update-time">更新于：{{ formatDate(novel.latestUpdateTime) }}</p>
        </div>
      </div>
    </div>

    <!-- 分页器 -->
    <div class="pagination">
      <el-pagination
        v-model:current-page="pagination.page"
        v-model:page-size="pagination.size"
        :total="pagination.total"
        :page-sizes="[20, 50, 100]"
        layout="total, sizes, prev, pager, next, jumper"
        @current-change="handlePageChange"
        @size-change="handleSizeChange"
      />
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';
import { useUserStore } from '@/stores/user';
import { fetchNovelList } from '@/api/novel';

const router = useRouter();
const userStore = useUserStore();

const searchKeyword = ref('');
const selectedPlatforms = ref([]);
const selectedTags = ref([]);
const sortBy = ref('updateTime');

const novelList = ref([]);
const pagination = ref({
  page: 1,
  size: 20,
  total: 0,
});

const platforms = [
  { label: '刺猬猫', value: 'ciweimao' },
  { label: 'SF轻小说', value: 'sf' },
  { label: '次元姬', value: 'ciyuanji' },
  { label: '起点', value: 'qidian' },
];

const tags = ref(['玄幻', '都市', '仙侠', '系统']);

const user = computed(() => userStore.user);

const fetchNovels = async () => {
  const res = await fetchNovelList({
    page: pagination.value.page,
    size: pagination.value.size,
    platform: selectedPlatforms.value.join(','),
    tag: selectedTags.value.join(','),
    sortBy: sortBy.value,
  });
  novelList.value = res.list;
  pagination.value.total = res.total;
};

const handleSearch = () => {
  router.push(`/search?q=${searchKeyword.value}`);
};

const goHome = () => {
  router.push('/');
};

const goDetail = (id: number) => {
  router.push(`/novel/${id}`);
};

onMounted(() => {
  fetchNovels();
});
</script>

<style scoped lang="scss">
.home {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 0;
  border-bottom: 1px solid var(--border-color);
}

.filter-bar {
  display: flex;
  gap: 16px;
  margin: 20px 0;
}

.novel-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 24px;
  margin-bottom: 40px;
}

.novel-card {
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
  }
}

.cover {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.info {
  padding: 16px;
}

.title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  margin-bottom: 8px;
}

.author {
  color: var(--text-secondary);
  margin-bottom: 8px;
}

.tags {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.tag {
  background: var(--primary-light);
  color: var(--primary-color);
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
}

.desc {
  color: var(--text-secondary);
  font-size: var(--font-size-sm);
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: 8px;
}

.update-time {
  color: var(--text-tertiary);
  font-size: var(--font-size-xs);
}

.pagination {
  display: flex;
  justify-content: center;
}
</style>
```

---

## 📱 Uni-app 多端适配

### 目录结构

```
src/
├── pages/              # 页面
│   ├── index/          # 首页
│   ├── novel-detail/   # 小说详情
│   ├── login/          # 登录
│   ├── register/       # 注册
│   ├── favorites/      # 收藏
│   └── profile/        # 我的
├── components/         # 组件
│   ├── NovelCard.vue   # 小说卡片
│   ├── FilterBar.vue   # 筛选栏
│   └── Tabbar.vue      # 底部导航
├── api/                # API
├── stores/             # 状态管理
└── utils/              # 工具函数
```

### 条件编译

```vue
<template>
  <view>
    <!-- 只在H5显示 -->
    <!-- #ifdef H5 -->
    <web-view :src="externalUrl"></web-view>
    <!-- #endif -->

    <!-- 只在APP显示 -->
    <!-- #ifdef APP-PLUS -->
    <button @click="openBrowser">在浏览器打开</button>
    <!-- #endif -->

    <!-- 只在小程序显示 -->
    <!-- #ifdef MP-WEIXIN -->
    <button open-type="share">分享</button>
    <!-- #endif -->
  </view>
</template>
```

---

## 📝 下一步

前端页面设计已完成，下一步将进行：
1. 系统架构设计
2. 开发环境搭建
